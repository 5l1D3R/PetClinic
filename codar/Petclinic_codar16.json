{
  "@self" : "/csa/api/topology-model/topology/b30252f4-6642-4ff5-b881-63ecec71c687",
  "@type" : "urn:x-hp:2013:software:cloud:topology_model:topology",
  "groupId" : "com.hp.csa",
  "artifactId" : "4028838f52639b72015278624c750baa",
  "version" : "1.50.02",
  "displayName" : "PetClinic Application with App and DB Servers",
  "description" : "A PetClinic Application with scalable stack and Apache Load Balancer. This is a partial design which requires the Database and Application server microservices for fulfillment.",
  "resources" : [ {
    "id" : "01a77e8e-3578-ec61-2663-d192034b25e2",
    "name" : "PetClinic DB Conf",
    "component" : {
      "@self" : "/csa/api/topology-model/component-type/b183f792-136a-4d14-ad0f-4545033008a0",
      "groupId" : "com.hp.csa.type",
      "artifactId" : "New_PetDB_855ff95b_fde7_432e_b4dd_b7f7e8c2ba67_e6b6ca0914a34eec93438670d70e55e4",
      "version" : "1"
    },
    "properties" : [ {
      "propertyKey" : "configurationurl",
      "propertyValue" : {
        "value" : "http://jenkins.devops.hpesw.com/petclinicTools/scripts/mysqldb_conf.sh",
        "type" : "string"
      }
    }, {
      "propertyKey" : "mysqlusername",
      "propertyValue" : {
        "value" : "petdba",
        "type" : "string"
      }
    }, {
      "propertyKey" : "_modifiable_properties",
      "propertyValue" : {
        "value" : "",
        "type" : "string"
      }
    }, {
      "propertyKey" : "mysqlpassword",
      "propertyValue" : {
        "value" : "ENC(bdkO/OGqUGJSW7ZS1vEtXfMf5Mx4U5PE)",
        "type" : "string_encrypted"
      }
    }, {
      "propertyKey" : "artifactusername",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "hostname",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "password",
      "propertyValue" : {
        "value" : null,
        "type" : "string_encrypted"
      }
    }, {
      "propertyKey" : "artifactpassword",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "_enable_modify_during_lifecycle_properties",
      "propertyValue" : {
        "value" : "",
        "type" : "string"
      }
    }, {
      "propertyKey" : "port",
      "propertyValue" : {
        "value" : "22",
        "type" : "string"
      }
    }, {
      "propertyKey" : "response",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "privatekeyPath",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "remotefilepath",
      "propertyValue" : {
        "value" : "/tmp/",
        "type" : "string"
      }
    }, {
      "propertyKey" : "servicecommand",
      "propertyValue" : {
        "value" : "sh /tmp/mysqldb_conf.sh",
        "type" : "string"
      }
    }, {
      "propertyKey" : "username",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    } ],
    "outgoingRelations" : [ {
      "relationType" : "association",
      "id" : "e798fa5a-12ac-0cfa-45ef-cc2deb8c4cf9",
      "properties" : [ {
        "propertyKey" : "_enable_modify_during_lifecycle_properties",
        "propertyValue" : {
          "value" : null,
          "type" : "string"
        }
      }, {
        "propertyKey" : "_modifiable_properties",
        "propertyValue" : {
          "value" : null,
          "type" : "string"
        }
      }, {
        "propertyKey" : "_relation_type",
        "propertyValue" : {
          "value" : {
            "first" : "Association",
            "second" : "ASSOCIATION"
          },
          "type" : "pair"
        }
      } ],
      "relationDescriptorName" : "configuresDb_New_PetDB_855ff95b_fde7_432e_b4dd_b7f7e8c2ba67_e6b6ca0914a34eec93438670d70e55e4",
      "resourceReference" : {
        "name" : "Database Server"
      }
    } ],
    "annotations" : {
      "uniqueName" : "PetClinicDBConf0001",
      "displayName" : "01a77e8e-3578-ec61-2663-d192034b25e2",
      "x" : "613",
      "description" : "Creates Pet Clinic Database on the database server",
      "y" : "87"
    },
    "capabilityChars" : [ ],
    "requirements" : [ ]
  }, {
    "id" : "16e426fa-211c-5a7a-2775-7f8f092fa760",
    "name" : "Application Server",
    "component" : {
      "@self" : "/csa/api/topology-model/component-type/2966f971-29e9-42b2-b91a-1673711407fb",
      "groupId" : "com.hp.csa.type",
      "artifactId" : "ApplicationServer",
      "version" : "1"
    },
    "properties" : [ {
      "propertyKey" : "installPath",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "hostname",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "password",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "protocol",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "port",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "username",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    } ],
    "outgoingRelations" : [ ],
    "annotations" : {
      "uniqueName" : "ApplicationServe0001",
      "displayName" : "16e426fa-211c-5a7a-2775-7f8f092fa760",
      "x" : "367",
      "description" : "Application Server is a capability component that provides required properties for application servers. Application Server can be associated with concrete components that support this capability, for example PHP and JBoss.",
      "y" : "260"
    },
    "capabilityChars" : [ ],
    "requirements" : [ {
      "id" : "541b8c11-1399-442b-bef9-b28d9a12dd38",
      "name" : "Tomcat 7",
      "description" : "Tomcat 7"
    } ]
  }, {
    "id" : "3cb27c95-9861-c67d-0ad9-8291b2f774fe",
    "name" : "Database Server",
    "component" : {
      "@self" : "/csa/api/topology-model/component-type/61614206-5669-47b8-bc9c-b247248f440d",
      "groupId" : "com.hp.csa.type",
      "artifactId" : "DatabaseServer",
      "version" : "1"
    },
    "properties" : [ {
      "propertyKey" : "hostname",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "password",
      "propertyValue" : {
        "value" : null,
        "type" : "string_encrypted"
      }
    }, {
      "propertyKey" : "port",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "type",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "username",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    } ],
    "outgoingRelations" : [ ],
    "annotations" : {
      "uniqueName" : "DatabaseServer0001",
      "displayName" : "3cb27c95-9861-c67d-0ad9-8291b2f774fe",
      "x" : "616",
      "description" : "Database Server is a capability component that provides required properties for database servers. Database Server can be associated with concrete components that support this capability, for example Oracle and MySQL.",
      "y" : "257"
    },
    "capabilityChars" : [ ],
    "requirements" : [ {
      "id" : "ca4a0d9b-2d36-43a8-a37e-c8933e779867",
      "name" : "MySQL 5.6",
      "description" : "MySQL 5.6"
    } ]
  }, {
    "id" : "5acfd91d-5171-2049-ebc6-7bf582239f24",
    "name" : "PetClinic Application",
    "component" : {
      "@self" : "/csa/api/topology-model/component-type/71b645da-5c0f-4ef5-a52a-80246fa4f023",
      "groupId" : "com.hp.csa.type",
      "artifactId" : "PetClinicApplicationType",
      "version" : "1.50.0000"
    },
    "properties" : [ {
      "propertyKey" : "configurationurl",
      "propertyValue" : {
        "value" : "http://jenkins.devops.hpesw.com/petclinicTools/scripts/spring_petclinic_jdbc_conf.sh",
        "type" : "string"
      }
    }, {
      "propertyKey" : "hostusername",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "mysqlusername",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "_modifiable_properties",
      "propertyValue" : {
        "value" : "",
        "type" : "string"
      }
    }, {
      "propertyKey" : "localfilepath",
      "propertyValue" : {
        "value" : "petclinic.war",
        "type" : "string"
      }
    }, {
      "propertyKey" : "mysqlpassword",
      "propertyValue" : {
        "value" : null,
        "type" : "string_encrypted"
      }
    }, {
      "propertyKey" : "apphostname",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "result",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "artifactusername",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "artifactpassword",
      "propertyValue" : {
        "value" : null,
        "type" : "string_encrypted"
      }
    }, {
      "propertyKey" : "dbhostname",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "dbpassword",
      "propertyValue" : {
        "value" : null,
        "type" : "string_encrypted"
      }
    }, {
      "propertyKey" : "port",
      "propertyValue" : {
        "value" : "22",
        "type" : "string"
      }
    }, {
      "propertyKey" : "tomcathome",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "_enable_modify_during_lifecycle_properties",
      "propertyValue" : {
        "value" : "",
        "type" : "string"
      }
    }, {
      "propertyKey" : "response",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "artifacturl",
      "propertyValue" : {
        "value" : "http://jenkins.devops.hpesw.com:8080/job/PetClinic/lastSuccessfulBuild/artifact/target/petclinic.war",
        "type" : "string"
      }
    }, {
      "propertyKey" : "dbusername",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "privatekeyPath",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "remotefilepath",
      "propertyValue" : {
        "value" : "/tmp/",
        "type" : "string"
      }
    }, {
      "propertyKey" : "servicecommand",
      "propertyValue" : {
        "value" : "sh /tmp/spring_petclinic_jdbc.sh",
        "type" : "string"
      }
    }, {
      "propertyKey" : "hostpassword",
      "propertyValue" : {
        "value" : null,
        "type" : "string_encrypted"
      }
    } ],
    "outgoingRelations" : [ {
      "relationType" : "association",
      "id" : "37b15769-5470-002c-3223-1d16913fab12",
      "properties" : [ {
        "propertyKey" : "_enable_modify_during_lifecycle_properties",
        "propertyValue" : {
          "value" : null,
          "type" : "string"
        }
      }, {
        "propertyKey" : "_modifiable_properties",
        "propertyValue" : {
          "value" : null,
          "type" : "string"
        }
      }, {
        "propertyKey" : "_relation_type",
        "propertyValue" : {
          "value" : {
            "first" : "Association",
            "second" : "ASSOCIATION"
          },
          "type" : "pair"
        }
      } ],
      "relationDescriptorName" : "hostedOn_PetClinicApplicationType__VERSION__1^50^0000__GROUPID__com^hp^csa^type",
      "resourceReference" : {
        "name" : "Application Server"
      }
    }, {
      "relationType" : "association",
      "id" : "717ba27c-d880-33b3-647a-96a5f48af8bd",
      "properties" : [ {
        "propertyKey" : "_enable_modify_during_lifecycle_properties",
        "propertyValue" : {
          "value" : null,
          "type" : "string"
        }
      }, {
        "propertyKey" : "_modifiable_properties",
        "propertyValue" : {
          "value" : null,
          "type" : "string"
        }
      }, {
        "propertyKey" : "_relation_type",
        "propertyValue" : {
          "value" : {
            "first" : "Association",
            "second" : "ASSOCIATION"
          },
          "type" : "pair"
        }
      } ],
      "relationDescriptorName" : "dbDetails_PetClinicApplicationType__VERSION__1^50^0000__GROUPID__com^hp^csa^type",
      "resourceReference" : {
        "name" : "PetClinic DB Conf"
      }
    } ],
    "annotations" : {
      "uniqueName" : "PetClinicApplica0001",
      "displayName" : "5acfd91d-5171-2049-ebc6-7bf582239f24",
      "x" : "368",
      "description" : "PetClinic Application",
      "y" : "81"
    },
    "capabilityChars" : [ ],
    "requirements" : [ ]
  }, {
    "id" : "5838c6bb-19fe-484f-9901-1cadb53a67e8",
    "name" : "Application Tier",
    "component" : {
      "@self" : "/csa/api/topology-model/component-type/304cc3a7-cf9d-400e-8ce0-0e80ffde3fec",
      "groupId" : "com.hp.csa.type.scalingGroup",
      "artifactId" : "ScalingGroupType_5838c6bb-19fe-484f-9901-1cadb53a67e8",
      "version" : "1"
    },
    "properties" : [ {
      "propertyKey" : "_enable_modify_during_lifecycle_properties",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    }, {
      "propertyKey" : "instanceCount",
      "propertyValue" : {
        "value" : "1",
        "type" : "number"
      }
    }, {
      "propertyKey" : "_modifiable_properties",
      "propertyValue" : {
        "value" : null,
        "type" : "string"
      }
    } ],
    "outgoingRelations" : [ {
      "relationType" : "aggregation",
      "id" : "e288817c-c569-4e53-9fd6-e8ae9b26d67a",
      "properties" : [ ],
      "resourceReference" : {
        "name" : "Application Server"
      }
    }, {
      "relationType" : "aggregation",
      "id" : "26857538-6ac3-4cde-822e-d1d45ecc3d38",
      "properties" : [ ],
      "resourceReference" : {
        "name" : "PetClinic Application"
      }
    } ],
    "annotations" : {
      "uniqueName" : "ApplicationTier0001",
      "color" : "#51b749",
      "iconUrl" : "/csa/api/blobstore/Distribution_RGB_blue_NT.png?tag=library"
    },
    "capabilityChars" : [ ],
    "requirements" : [ ]
  } ],
  "revision" : 207,
  "properties" : [ ],
  "iconUrl" : "/csa/images/library/pets.png",
  "tagIds" : [ {
    "@self" : "/csa/api/tag/8a818cf8ara15bc772b0145cb6efjhg99"
  } ],
  "state" : "UNLOCKED",
  "partial" : true,
  "hidden" : false,
  "profiles" : [ ],
  "annotations" : {
    "serviceBlueprintId" : "4028838f52639b72015278624d420bb1",
    "providerType" : "independent"
  }
}